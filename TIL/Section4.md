# React State 및 이벤트 다루기

유저와 상호작용하는 UI

## 이번 section에서 살펴 볼 것

- Handling Events
- Updating the UI & Working with "State"
- A closer Look At Components & State

## 이벤트 리스닝 및 이벤트 핸들러 수행하기

이벤트 핸들러를 위한 값으로 포인터를 전달 -> 리액트가 기본적으로 기억 -> 이벤트 발생시 함수 실행

이벤트 이름 짓기: 이벤트+Handler

## 리액트가 JSX 코드를 어떻게 전달하고 화면에 불러오는가

함수형 컴포넌트는 함수 -> JSX 코드를 반환
함수는 호출해야 하나. 우리가 함수를 호출한 적이 없다.
대신 JSX 코드 안에 있는 HTML 요소 같은 함수들을 사용했다.

JSX 코드 안에 있는 컴포넌트를 이용해서 리액트가 우리의 컴포넌트 함수를 인식

컴포넌트가 실행되면 컴포넌트의 자식 컴포넌트들을 모두 호출하고 더 이상 호출할 자식이 남아 있지 않을 때 JSX 코드가 통과

-> 전반적인 결과를 다시 평가하고 DOM 명령어로 번역해서 화면에 이런 식으로 보여지는 것들을 렌더링 한다.

리액트는 절대 반복하지 않는다.
렌더링 되었을 때 모든 과정을 실행하고 그 후 끝

그래서 리액트에게 어떤 것이 변경되고 특정 컴포넌트가 재평가 되어야 한다고 알려한한다.

-> state라는 개념 도입

## State

컴포넌트가 재평가 되면서(이벤트가 발생 하면서) 화면을 다시 그린다.
일반적인 변수는 재평가로는 트리거 되지않는다.
일부 변수가 변했다고 전반적인 컴포넌트 함수는 다시 실행되지 않는다

useState: 컴포넌트 함수가 다시 호출되는 곳에서 변경되는 값을 반영하기 위해 state로 값을 정의할 수 있게 해주는 함수

State는 컴포넌트별 인스턴스를 기반으로 독립적인 state를 갖는다.

이벤트가 발생하여 상태가 바꼈을 떄 컴포넌트가 사용되는 곳에 있는 특정 인스턴스에서만 재평가

## **State는 컴포넌트의 인스턴스 별로 나뉘어져 있다**

const를 사용하는 이유: = 연산자를 사용해서 값을 할당하지 않는다.
대신 state를 업데이트하는 이함수를 호출하고 구체적인 값은 리액트에 의해 어딘가에서 관리된다.
그러므로 const를 사용해도 괜찮다.

기본적으로 입력에 대해 변경 이벤트를 수신할 떄만다, 만약 입력 요소값을 읽는다면 그것은 항상 문자열이기 때문에 숫자를 지정해도 그것은 문자열로 된 숫자, 날짜도 마찬가지
그러므로 **항상 모든 상태를 문자열**로 초기화한다.

리액트가 상태 업데이트 스케줄을 갖고 있어서 바로 실행하지 않는다 (비동기)
-> 동시에 수많은 상태 업데이트를 계획한다면 오래되었거나 잘못된 상태 스냅샷에 의존할 수 있다.

```javascript
setUserInput((prevState) => {
  return { ...prevState, enteredTitle: event.target.value };
});
```

이외 같은 방법을 사용하면 리액트는 이 안에 있는 함수에서 이 상태 스냅샷이 가장 최신 상태의 스냅샷이라는 것과 항상 계획된 상태 없데이트를 염두에 두고 있다는 것을 보장한다.
이 방법은 항상 최신 상태의 스냅샷에서 작업하도록 하는 좀 더 안전한 방법이다

## Two way Binding

상태를 업데이트하기 위해 입력에서 변경사항을 수신하는 것 + input에 상태를 다시 보내주기도 한다.

부모 컴포넌트에서 함수를 정의하여 props로 내려 자식이 사용
props로 함수를 포인터로 전달하기 때문에 가능
부모컴포넌트와 소통하는 방법

## Lifting the state up (상태 끌어올리기)

관련있는 두 컴포넌트의 부모 컴포넌트로 상태를 끌어올려야 관련있는 컴포넌트에서 사용이 가능하다.

부모 컴포넌트는 함수를 포인터로 props로 내리고 자식컴포넌트는 데이터를 함수로 전달해서 상태를 끌어올린다.

### stateless vs stateful

stateless component: 아무 state를 가지고 있지 않은 단지 데이터를 출력하기 위해 존재하는 컴포넌트
대부분의 조각들 즉, 대부분 컴포넌트들은 무언가를 출력하는데 초점을 맞추고 있다

일부의 컴포넌트 많이 state를 관리한다
생성된 state들은 props를 통해 분산된다
